<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=5, minimum-scale=1">



    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- custom css -->
     <link rel="stylesheet" href="assets/style.css">
     
     <!-- fontaAwesome -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>

   
    <title>Recuperar</title>
  </head>
  <body>


    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <!-- Logo -->
        <a class="navbar-brand" href="#">
          <img src="./assets/images/logo.png" alt="Logo">
        </a>
    
        <!-- Toggle button for mobile -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <!-- Navbar Links + Right Side Items (inside the collapse) -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-5 p-5 mb-2 mb-lg-0 w-100">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Necessidade</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Gestão de Contrato</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Orçamento</a>
            </li>
          </ul>
    
          <!-- Right Side Items (Move inside the menu on mobile) -->
          <div class="d-flex align-items-center  right-items">
            <i class="fa-regular fa-bell me-2 mt-1" style=" color: white; font-size: 22px;"></i>
            <img src="./assets/images/Ellipse 6.png" alt="Profile" class="profile-img mx-2">
            <div class="dropdown">
              <button class="btn btn-outline-light lang-toggle" type="button" data-bs-toggle="dropdown">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Portugal.svg" width="20"> PT <i class="fa-solid fa-angle-down"></i>
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">English</a></li>
                <li><a class="dropdown-item" href="#">Português</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>    
    <!-- hero -->
    <div class="hero" style="height: 800px;">
      <div class="overlay"></div>
      <div class="container position-relative">
        <h1 class="fw-bold" style="display: inline-block; position: relative; top: 140px;">ENTIDADE A</h1>
        <p class="d-block" style="position: relative; top: 140px;">Entidade A.</p>
    </div>
    
      <div class="calendar-card">
          <div class="calendar-header">
            <small class="mb-3 d-block">Calendário</small>
              <div class="nav-icons d-flex justify-content-between">
                  <i class="fa-solid fa-chevron-left" onclick="changeMonth(-1)"></i>
                <small id="monthYear">  <!--  data come dynamically--> </small> 
                  <i class="fa-solid fa-chevron-right" onclick="changeMonth(1)"></i>
              </div>
          </div>
          <div class="day-names">
              <div >Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
          </div>
          <div class="calendar-days" id="calendarDays"></div>
          <div class="event-box" id="eventDetails">
              <strong>17 Janeiro</strong><br>
             <small> Necessidade: ID 123456 </small><br>
             <small> Lorem ipsum dolor sit amet, consectetur adipiscing elit.</small>
             
          </div>
      </div>
  </div>


  <!-- bar chart section -->

  <section class="barchartSection">
    <div class="container py-4">
      <h3 class="fw-bold" style="color: #4E4E4E !important;">Gráfico de Necessidades</h3>
      <div class="row mt-3">
          <div class="col-md-6">
              <div class="chart-container">
                  <h5 class="fw-bold" style="color: #03445E !important;">Alerta de tarefas</h5>
                  <canvas id="barChart">
                    <!-- data come dynamically -->
                  </canvas>
              </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="chart-container">
                <h5 class="fw-bold" style="display: inline-block; white-space: nowrap; color: #03445E;">Estado das tarefas</h5>
                <canvas id="doughnutChart" class="mt-3" style="height: 222px !important; margin-left: 60px;">
                    <!-- data come -->
                </canvas>
            </div>
        </div>
      </div>
  </div>
  <!-- dashboard chart  -->
  <div class="container mt-5">
    <div class="dashboard-container row">
        <div class="col-md-5">
            <h5 class="fw-bold" style="color: #03445E;">Contratos</h5>
            <div id="bar-chart" ></div>
        </div>
        <div class="col-md-7">
            <h5 class="fw-bold" style="color: #03445E;">Contratos <br> (Volume em &euro;)</h5>
            <canvas id="lineChart"></canvas>
        </div>
    </div>
</div>
</section>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  
    <!-- custom js -->
    <script src="index.js"></script>
     <!-- chart library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
     
     const barData = [
  { value: 0.25, width: "210px", height: "50px", color: "#0A5462" },
  { value: 0.20, width: "190px", height: "50px", color: "#235A9E" },
  { value: 0.10, width: "90px", height: "50px", color: "#00C9A7" },
  { value: 0.08, width: "50px", height: "50px", color: "#16B46F" }
];

const barChartContainer = document.getElementById("bar-chart");

// Ensure the container has some width
barChartContainer.style.display = "flex";  // Align bars horizontally (optional)
barChartContainer.style.flexDirection = "column"; // Stack bars vertically
barChartContainer.style.gap = "10px"; // Add space between bars

barData.forEach(data => {
  const barItem = document.createElement("div");
  barItem.className = "bar-item";
  barItem.innerHTML = `
      <div class="bar" style="
          width: ${data.width}; 
          height: ${data.height}; 
          background-color: ${data.color}; 
          display: flex; 
          align-items: center; 
          justify-content: end; 
          color: white; 
          font-weight: bold;
          border-radius: 5px;
      ">
          ${data.value} M
      </div>
      <span class="ms-2" style="color:#03445E">Lorem Ipsum</span>
  `;
  barChartContainer.appendChild(barItem);
});


const ctx = document.getElementById('lineChart').getContext('2d');
new Chart(ctx, {
  type: 'line',
  data: {
    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'],
    datasets: [{
      data: [2.4, 2.4, 0.4, 3, 1.6, 3.5], // Normal values
      borderColor: '#235A9E',
      backgroundColor: '#fff',
      borderWidth: 2,
      pointBackgroundColor: ['#00C9A7', '#00C9A7', '#00C9A7', '#00C9A7', '#00C9A7', '#fff'], // Different color for last point
      pointRadius: [5, 5, 5, 5, 5, 10], // Hide the last point
      fill: true
    },
    {
      type: 'bar', // Bar only for June
      data: [null, null, null, null, null, 4], // Only June has a value
      backgroundColor: '#00B475',
      barThickness: 40 // Adjust bar width
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: true,
    scales: {
      y: {
        beginAtZero: true,
        grid: {
          display: false
        },
        ticks: {
          display: false, // Remove ticks (numbers)
          drawTicks: false // Hide the ticks (vertical lines)
        },
        border: {
          display: false // Remove the y-axis border line
        }
      },
      x: {
        grid: {
          display: false
        },
        border:{
          display: true, // Display x-axis border
          width: 2, // Set the border width for the x-axis
          color: '#235A9E' // Set the color of the x-axis border
        }
      }
    }
  }
});


  </script>
  </body>
</html>